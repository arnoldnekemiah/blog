<% if flash[:error].present? %>
  <div class="alert alert-danger">
    <%= flash[:error] %>
  </div>
<% end %>

<h1>Here is detail of a post for a specific user</h1>
<div class="post-detail-row">
  <div class="post-title">
    <%= @post.title %>
  </div>
  <div class="post-content">
    <%= @post.text %>
  </div>
  <div class="post-stats">
    Comments: <%= @post.comments.count %> |
    <%= link_to 'Like', like_user_post_path(@user, @post), method: :post, class: 'like-link' %>
  </div>
</div>

<!-- Add Comment Form -->
<div class="add-comments-container">
  <%= form_for [@user, @post, @new_comment] do |f| %>
    <div class="add-comment-div">
      <div class="comment">
        <%= f.label :text %>
        <%= f.text_area :text %>
      </div>
      <div class="add-comment-button">
        <%= f.submit "Add Comment" %>
      </div>
    </div>
  <% end %>
</div>


<!-- Display Existing Comments -->
<div class="comments-container">
  <h2>Comments</h2>
  <% @comments.each do |comment| %>
    <div class="comment">
      <span class="comment-author"><%= comment.user.name %> :</span>
      <span class="comment-text"><%= comment.text %></span>
    </div>
  <% end %>
</div>